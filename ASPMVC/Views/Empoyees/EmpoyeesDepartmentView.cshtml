@model IEnumerable<ASPMVC.Models.Empoyee>

@{
    ViewData["Title"] = "EmpoyeesDepartmentView";
}

<form asp-action="EmpoyeesDepartmentView">
    <div class="form-group">
        @Html.DropDownList("DepartmentId", ViewData["Departments"] as SelectList, "Выбрать департамент")
        <input class ="btn btn-success btn-sm" type="submit" value="Подтвердить" />
    </div> 
</form>

</br>

<table class="table table-hover">
    <thead>
        <tr class="table-info">
            <th>ID</th>
            <th>Имя</th>
            <th>Фамилия</th>
            <th>Отчество</th>
            <th>Возраст</th>
            <th>Дата рождения</th>
            <th>Серия документа</th>
            <th>№ документа</th>
            <th>Должность</th>
            <th>Департамент</th>
            
        </tr>
    </thead>
    <tbody>
        @foreach (var employee in Model)
        {
            var age = DateTime.Now.Year - employee.DateOfBirth.Year;
            if (DateTime.Now < employee.DateOfBirth.AddYears(age)) age--;
            <tr>
                <td>@employee.Id</td>
                <td>@employee.FirstName</td>
                <td>@employee.SurName</td>
                <td>@employee.Patronymic</td>
                <td>@age</td>
                <td>@employee.DateOfBirth</td>
                <td>@employee.DocSeries</td>
                <td>@employee.DocNumber</td>
                <td>@employee.Position</td>
                <td>@employee.Department.Name</td>
            </tr>
        }
    </tbody>
</table>

